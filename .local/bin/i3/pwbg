#!/bin/bash

BG_Default=$XDG_DATA_HOME/backgrounds/wall.png
BG_WS[8]=$HOME/Pictures/wallhaven-k9l6dq_1920x1080.png

while read -r; do
	Num=$(i3-msg -t get_workspaces | jq '.[] | select(.focused==true) | .num')
	if [ -n "${BG_WS[$Num]}" ]; then
		hsetroot -fill "${BG_WS[$Num]}"
	else
		hsetroot -fill "$BG_Default"
	fi
done < <(xprop -spy -root _NET_CURRENT_DESKTOP) >/dev/null

