#!/bin/sh
# Gives a dmenu/fzf prompt to open selected config with $EDITOR.
# ---
# 2019 Yusuf Aktepe <yusuf@yusufaktepe.com>
# https://github.com/yusufaktepe/dotfiles
# ---

editor=${EDITOR:-vim}
list="$HOME/.config/conf.list"

if [ -t 2 ]; then
	fzf < "$list" | awk '{print $2}' | sed "s|~|$HOME|g" | xargs -r -I '{}' "$editor" {}
else
	choise=$(dmenu -i -l 10 -p "Select config to edit" < "$list" | awk '{print $2}' | sed "s|~|$HOME|g")
	case "$choise" in
		/*) $TERMINAL -e "$editor" "$choise"
	esac
fi

