#!/bin/sh
# I have no idea why I wrote this ¯\_(ツ)_/¯

ignore=$XDG_DATA_HOME/rofi/rofi-finder_ignore

finder() {
	locate "/home/*" "/data/*" | grep -Ev "($(tr -d '\t\n' < $ignore | sed "s|~|$HOME|g"))"
	printf " Edit ignore list\n Search system paths\n Update search database"
}

choise=$(finder | rofi -dmenu -i -l 20 -width 60 -p "")

case "$choise" in
	"") exit ;;
	*) sudo -A updatedb && $0 ;;
	*) sys_choise=$(locate "/etc/*" "/usr/*" | rofi -dmenu -i -l 20 -width 60 -p "")
		case "$sys_choise" in
			"") exit ;;
			*)  xdg-open "$sys_choise" >/dev/null 2>&1 & ;;
		esac ;;
	*) $TERMINAL -e "$EDITOR" "$ignore" ;;
	*) xdg-open "$choise" >/dev/null 2>&1 & ;;
esac

