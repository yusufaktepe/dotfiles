#!/bin/sh
# I have no idea why I wrote this ¯\_(ツ)_/¯

ignore="
$HOME/
	(.audacity-data
	|.cache
	|.gnupg
	|.icons
	|.mozilla
	|.pki
	|.ssh
	|.terminfo
	)|
$HOME/.config/
	(dconf
	|doublecmd/logs
	|GIMP
	|google-chrome
	|Hardcode-Tray
	|inkscape
	|keybase
	|libreoffice
	|light
	|menus
	|nvim/plugged
	|pulse
	|opera
	|spotify
	|syncthing
	|VirtualBox
	|vivaldi
	)|
.local/lib/
	(node_modules
	|tor-browser
	|vivaldi
	)|
.local/share/
	(cantata
	|data
	|desktop*
	|gegl*
	|gvfs*
	|icons
	|key*
	|lf
	|meld
	|newsboat
	|nvim
	|pass*
	|qalc*
	|rofi
	|Trash
	|vlc
	|xorg
	|zathura
	|.viv*
	|gset*
	|mime*
	|recent*
	)|
/data/backup/
	(clonezilla
	|dotfiles
	|makepkg
	|spotify
	)|
/data/dl/
	(isos
	|torrents
	)|
/data/repos/
	(aur
	|dots
	|patches
	|pkgbuilds
	|programs
	|scripts
	|site
	|web
	)|
.Trash*|lost\+found
"

finder() {
	locate "/home/*" "/data/*" | grep -Ev "("$(echo $ignore | tr -d ' ')")"
	echo " Search system paths"
	echo " Update search database"
}

choise=$(finder | rofi -dmenu -i -l 20 -width 60 -p "")

case "$choise" in
	"") exit ;;
	*) sudo -A updatedb && $0 ;;
	*) sys_choise=$(locate "/etc/*" "/usr/*" | rofi -dmenu -i -l 20 -width 60 -p "")
		case "$sys_choise" in
			"") exit ;;
			*)  xdg-open "$sys_choise" >/dev/null 2>&1 & ;;
		esac ;;
	*) xdg-open "$choise" >/dev/null 2>&1 & ;;
esac

