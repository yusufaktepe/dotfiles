#!/bin/sh

case "$1" in
	*mkv|*webm|*mp4|*youtube.com/watch*|*youtube.com/playlist*|*youtu.be*|*hooktube.com*|*bitchute.com*)
		ym "$1" ;;
	*png|*jpg|*jpe|*jpeg|*gif)
		tmp=/tmp/$(basename "$1")
		curl -sL "$1" > "$tmp" && setsid sxiv -a "$tmp" >/dev/null 2>&1 &
		wait; rm "$tmp" ;;
	*mp3|*flac|*opus|*mp3?source*)
		setsid tsp curl -LO "$1" >/dev/null 2>&1 & ;;
	"")
		ifwin "$BROWSER" ;;
	*)
		if [ -f "$1" ]; then
			"$TERMINAL" -e "$EDITOR $1"
		else
			setsid "$BROWSER" "$1" >/dev/null 2>&1 &
		fi ;;
esac
