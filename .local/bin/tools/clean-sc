#!/bin/sh
# Spotify cache cleaner.

if [ "$(id -u)" = "0" ]; then
	printf "\033[31m==>> ERROR :: This script must be run as normal user.\033[0m\n"
	exit 1
fi

[ -n "$1" ] && dir="$1" || dir="$HOME/.cache/spotify"

if [ -d "$dir" ] && [ -d "$dir/Browser/Cache" ] && [ -d "$dir/Data" ] && [ -d "$dir/Storage" ]; then
		printf "\033[1m==>> BEFORE CLEANING\033[0m\n"
		du -h -L -d 0 "$dir"
		printf "\033[1m==>> CLEANING SPOTIFY CACHE...\033[0m\n...\n"
		rm -rf "$dir/Browser/Cache" "$dir/Data" "$dir/Storage"
		printf "\033[1m==>> AFTER CLEANING\033[0m\n"
		du -h -L -d 0 "$dir"
else
		printf "\033[31m==>> ERROR :: Spotify cache directories not found.\033[0m\n"
		exit 1
fi
